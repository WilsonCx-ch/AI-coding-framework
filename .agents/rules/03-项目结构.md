---
alwaysApply: false
description: 项目的目录结构规范，定义了 src 目录下各目录的用途与约束（禁止新建非标准目录）。当需要确定代码应放在哪个目录时读取此规则。
---

# 项目结构（NON-NEGOTIABLE）

## 目录结构

```
src/
├── assets/        # 字体、图标、静态图片等资源
├── components/    # 可复用 UI 组件
├── constants/     # 业务常量、枚举
├── hooks/         # 自定义 Hook
├── http/          # 领域驱动的请求封装
├── interfaces/    # 接口、模型、DTO 类型声明
├── routes/        # 场景路由页面
├── stores/        # Zustand store，按业务拆分
├── utils/         # 通用工具函数
└── 根级文件        # App.tsx、main.tsx 等入口文件
```

## 结构约束（禁止在 src 下新建非标准目录）

| 类型 | 目录 | 规范 |
|------|------|------|
| 常量 | `src/constants/` | 按模块划分，所有模块导出到 `index.ts` |
| 状态 | `src/stores/` | 按业务模块划分，暴露 `useXxxStore` Hook |
| 工具 | `src/utils/` | 按功能模块划分，所有模块导出到 `index.ts` |
| 接口类型 | `src/interfaces/` | 每个模块含 `model.ts` 和 `api.ts` |
| 组件 | `src/components/` | 每个组件独立目录，导出到 `index.ts` |
| 路由 | `src/routes/` | 每个路由含 `Page.tsx`、`Loader.tsx`、`index.module.scss` |

## 路由目录内的组件放置规则

页面专用组件放在 `src/routes/<route-name>/components/` 目录：

```
src/routes/<route-name>/
  ├─ components/           # 仅供当前页面使用的子组件
  │   └─ xxx/
  │       ├─ index.tsx
  │       └─ index.module.scss
  ├─ Page.tsx
  ├─ Loader.tsx
  └─ index.module.scss
```

**判断标准**：

- 通用组件：多处复用、业务无关 → `src/components/`
- 页面级组件：仅单页使用 → 路由目录下的 `components/`

**约束**：`src/components/` 只存放通用组件，禁止将仅单页使用的组件放入。

## Mock 数据策略

当后端接口未完成时：

### 目录结构

```
src/
  ├─ http/
  │   └─ <feature>.ts      # mock API 文件
  └─ interfaces/
      └─ <feature>.ts      # 单文件类型定义
```

### 原则

1. 接口文件：创建 `src/http/<feature>.ts`，包含 mock 数据和模拟请求函数
2. 类型定义：使用 `src/interfaces/<feature>.ts`（单文件），不创建目录
3. 状态管理：不创建独立 Zustand store，必要时使用组件内 state
4. 优先级：UI 还原度优先于功能完整

### 禁止

- 禁止创建复杂的 mock 数据结构
- 禁止创建独立的 store（接口未完成时）
- 禁止预留过多扩展字段
